<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ä¿¡ç”¨å¡ç¥å¡æŒ‡å— - æˆ‘çš„å°ˆå±¬ç‰ˆ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;700;900&display=swap');
        body { font-family: 'Noto Sans TC', sans-serif; background-color: #f8fafc; }
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .card-shadow { box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 8px 10px -6px rgba(0, 0, 0, 0.1); }
        .best-tag { background: linear-gradient(90deg, #f59e0b 0%, #ef4444 100%); }
    </style>
</head>
<body class="pb-10">

    <!-- Top Navigation -->
    <nav class="bg-indigo-700 text-white p-4 sticky top-0 z-50 shadow-lg">
        <div class="max-w-md mx-auto">
            <h1 class="text-center text-xl font-black tracking-wider uppercase">Credit Card Navigator</h1>
            <p class="text-center text-[10px] opacity-75">è‡ªå‹•è¨ˆç®— 6 å¤§ç¥å¡æœ€å„ªå›é¥‹</p>
            
            <!-- Search Bar -->
            <div class="mt-4 relative">
                <i class="fa-solid fa-magnifying-glass absolute left-3 top-3 text-indigo-300"></i>
                <input type="text" id="searchInput" onkeyup="filterCards()" 
                    placeholder="æœå°‹é€šè·¯ï¼šè¦çš®ã€å¤–é€ã€æ—¥æœ¬ã€åŠ æ²¹..." 
                    class="w-full bg-indigo-800 border-none rounded-lg py-2 pl-10 pr-4 text-white placeholder-indigo-300 focus:ring-2 focus:ring-yellow-400 outline-none">
            </div>
        </div>
    </nav>

    <!-- Category Filters -->
    <div class="bg-white border-b sticky top-[116px] z-40 overflow-x-auto no-scrollbar flex p-3 gap-2">
        <button onclick="setCategory('all')" class="cat-btn active px-4 py-2 rounded-full bg-indigo-100 text-indigo-700 text-sm font-bold whitespace-nowrap">å…¨éƒ¨å¡ç‰‡</button>
        <button onclick="setCategory('æ”¯ä»˜')" class="cat-btn px-4 py-2 rounded-full bg-gray-100 text-gray-600 text-sm font-bold whitespace-nowrap">ğŸ“± è¡Œå‹•æ”¯ä»˜</button>
        <button onclick="setCategory('ç¶²è³¼')" class="cat-btn px-4 py-2 rounded-full bg-gray-100 text-gray-600 text-sm font-bold whitespace-nowrap">ğŸ›’ ç¶²è³¼/é›»å•†</button>
        <button onclick="setCategory('å¤–é€')" class="cat-btn px-4 py-2 rounded-full bg-gray-100 text-gray-600 text-sm font-bold whitespace-nowrap">ğŸ›µ ç¾é£Ÿå¤–é€</button>
        <button onclick="setCategory('æ—…éŠ')" class="cat-btn px-4 py-2 rounded-full bg-gray-100 text-gray-600 text-sm font-bold whitespace-nowrap">âœˆï¸ åœ‹å¤–æ—…éŠ</button>
        <button onclick="setCategory('æ—¥å¸¸')" class="cat-btn px-4 py-2 rounded-full bg-gray-100 text-gray-600 text-sm font-bold whitespace-nowrap">â›½ é€šå‹¤/æ—¥å¸¸</button>
    </div>

    <!-- Main Content -->
    <main class="max-w-md mx-auto p-4">
        
        <!-- Quick Alerts -->
        <div id="alert-box" class="mb-6 space-y-2">
            <div class="bg-amber-50 border-l-4 border-amber-400 p-3 rounded shadow-sm text-xs text-amber-800">
                <i class="fa-solid fa-circle-exclamation mr-1"></i> <strong>CUBE å¡ï¼š</strong>ä»Šå¤©åˆ‡æ›æ¨¡å¼äº†å—ï¼Ÿ(ç©æ•¸ä½/æ¨‚é¥—è³¼/è¶£æ—…è¡Œ)
            </div>
            <div class="bg-emerald-50 border-l-4 border-emerald-400 p-3 rounded shadow-sm text-xs text-emerald-800">
                <i class="fa-solid fa-check-double mr-1"></i> <strong>Richartï¼š</strong>ç¢ºèª GoGo/FlyGo éœ€è¨­å®šè‡ªæ‰£æ‰æœ‰ 3.8%
            </div>
        </div>

        <!-- Card List -->
        <div id="cardList" class="space-y-6">
            <!-- Cards will be injected here by JS -->
        </div>

    </main>

    <script>
        // è³‡æ–™åº«ï¼šä½ çš„ 6 å¼µå¡ç‰‡
        const cards = [
            {
                id: 1,
                name: "æ˜Ÿå±•å‚³èªªå°æ±ºå¡",
                bank: "DBS æ˜Ÿå±•éŠ€è¡Œ",
                theme: "bg-gray-900",
                rules: [
                    { cat: "å¤–é€", rate: 10, detail: "Foodpanda, UberEats (å«åŠ ç¢¼7%)", keyword: "å¤–é€,foodpanda,uber" },
                    { cat: "æ—¥å¸¸", rate: 10, detail: "Netflix, Disney+, Spotify, éŠæˆ²èª²é‡‘", keyword: "å½±éŸ³,ä¸²æµ,èª²é‡‘,éŠæˆ²,spotify" },
                    { cat: "æ”¯ä»˜", rate: 3, detail: "LINE Pay, è¡—å£, Apple Pay", keyword: "æ”¯ä»˜,lp,è¡—å£,ap" },
                    { cat: "æ—¥å¸¸", rate: 1.5, detail: "ä¸€èˆ¬æ¶ˆè²»ç„¡ä¸Šé™", keyword: "ä¸€èˆ¬" }
                ]
            },
            {
                id: 2,
                name: "å°æ–° Richard GoGoå¡",
                bank: "Taishin å°æ–°éŠ€è¡Œ",
                theme: "bg-red-700",
                rules: [
                    { cat: "æ”¯ä»˜", rate: 3.8, detail: "LINE Pay, å…¨æ”¯ä»˜, å°æ–°Pay (éœ€è‡ªæ‰£)", keyword: "æ”¯ä»˜,lp,å…¨æ”¯ä»˜" },
                    { cat: "ç¶²è³¼", rate: 3.8, detail: "è¦çš®, momo, PChome, Yahoo", keyword: "ç¶²è³¼,è¦çš®,momo,pchome" },
                    { cat: "æ—¥å¸¸", rate: 0.5, detail: "ä¸€èˆ¬æ¶ˆè²»", keyword: "ä¸€èˆ¬" }
                ]
            },
            {
                id: 3,
                name: "åœ‹æ³° CUBE å¡",
                bank: "Cathay åœ‹æ³°ä¸–è¯",
                theme: "bg-yellow-500",
                rules: [
                    { cat: "ç¶²è³¼", rate: 3, detail: "ã€ç©æ•¸ä½ã€‘è¦çš®ã€é…·æ¾ã€ç¶²è³¼ (éœ€åˆ‡æ›)", keyword: "ç¶²è³¼,è¦çš®,é…·æ¾,coupang" },
                    { cat: "æ—¥å¸¸", rate: 3, detail: "ã€æ¨‚é¥—è³¼ã€‘ç™¾è²¨ã€å¤–é€ã€é¤é£²", keyword: "ç™¾è²¨,é¤å»³,ç¾é£Ÿ" },
                    { cat: "æ—…éŠ", rate: 3, detail: "ã€è¶£æ—…è¡Œã€‘æ©Ÿç¥¨ã€é£¯åº—ã€å«è»Šã€æµ·å¤–", keyword: "æ©Ÿç¥¨,é£¯åº—,æµ·å¤–,åœ‹å¤–,åˆ·ä¿éšª" },
                    { cat: "æ—¥å¸¸", rate: 0.3, detail: "åŸºæœ¬å›é¥‹å°æ¨¹é»", keyword: "ä¸€èˆ¬" }
                ]
            },
            {
                id: 4,
                name: "ç‰å±± Unicard",
                bank: "E.SUN ç‰å±±éŠ€è¡Œ",
                theme: "bg-emerald-600",
                rules: [
                    { cat: "æ”¯ä»˜", rate: 5, detail: "ã€è¨‚è£½é¸ã€‘LINE Pay æœ€é«˜ 5% (éœ€eæŒ‡ä»˜)", keyword: "æ”¯ä»˜,lp" },
                    { cat: "æ—¥å¸¸", rate: 3.5, detail: "ã€ä»»æ„é¸ã€‘ç™¾å¤§ç‰¹åº— (éœ€APPè¨­å®š)", keyword: "åŠ æ²¹,æ—¥å¸¸" },
                    { cat: "æ—¥å¸¸", rate: 1, detail: "åŸºæœ¬ 0.7% + 0.3% ç„¡ä¸Šé™", keyword: "ä¸€èˆ¬" }
                ]
            },
            {
                id: 5,
                name: "å¯Œé‚¦ JCB (Jå¡)",
                bank: "Fubon å¯Œé‚¦éŠ€è¡Œ",
                theme: "bg-blue-500",
                rules: [
                    { cat: "æ—…éŠ", rate: 3, detail: "æ—¥éŸ“æ—…éŠåŠ ç¢¼ (éœ€ç™»éŒ„/å¯¦é«”å¡)", keyword: "æ—¥æœ¬,éŸ“åœ‹,å‡ºåœ‹" },
                    { cat: "æ”¯ä»˜", rate: 1, detail: "LINE Pay 1% èµ· (ä¾æ´»å‹•åŠ ç¢¼)", keyword: "æ”¯ä»˜,lp" },
                    { cat: "æ—¥å¸¸", rate: 1, detail: "åœ‹å…§ä¸€èˆ¬æ¶ˆè²»ç„¡ä¸Šé™", keyword: "ä¸€èˆ¬" }
                ]
            },
            {
                id: 6,
                name: "æ˜Ÿå±•æ°¸çºŒå¡",
                bank: "DBS æ˜Ÿå±•éŠ€è¡Œ",
                theme: "bg-emerald-100",
                isLight: true,
                rules: [
                    { cat: "æ—¥å¸¸", rate: 1.5, detail: "åœ‹å…§å¤–ä¸€èˆ¬æ¶ˆè²»ä¿åº•", keyword: "ä¸€èˆ¬,ä¿åº•" },
                    { cat: "æ—¥å¸¸", rate: 2, detail: "æŒ‡å®šç¶ è‰²äº¤é€š/å•†åº—", keyword: "äº¤é€š,gogoro,æ˜Ÿå·´å…‹" }
                ]
            }
        ];

        let currentCategory = 'all';

        function setCategory(cat) {
            currentCategory = cat;
            document.querySelectorAll('.cat-btn').forEach(btn => {
                btn.classList.remove('bg-indigo-700', 'text-white', 'active');
                btn.classList.add('bg-gray-100', 'text-gray-600');
            });
            event.target.classList.add('bg-indigo-700', 'text-white', 'active');
            event.target.classList.remove('bg-gray-100', 'text-gray-600');
            filterCards();
        }

        function filterCards() {
            const searchTxt = document.getElementById('searchInput').value.toLowerCase();
            const container = document.getElementById('cardList');
            container.innerHTML = '';

            // è™•ç†æ’åºé‚è¼¯ï¼šæ‰¾å‡ºå„å¡ç‰‡åœ¨è©²åˆ†é¡ä¸‹çš„æœ€é«˜å›é¥‹
            let displayData = cards.map(card => {
                let bestRule = null;
                
                if (currentCategory === 'all') {
                    bestRule = card.rules[0];
                } else {
                    bestRule = card.rules.find(r => r.cat === currentCategory);
                }

                // å¦‚æœæœ‰æœå°‹æ–‡å­—ï¼Œé€²ä¸€æ­¥éæ¿¾
                if (searchTxt) {
                    const foundBySearch = card.rules.find(r => r.keyword.includes(searchTxt) || card.name.toLowerCase().includes(searchTxt));
                    if (foundBySearch) bestRule = foundBySearch;
                    else return null; 
                }

                return { ...card, activeRule: bestRule };
            }).filter(c => c !== null);

            // ä¾ç…§åˆ©ç‡æ’åº (ç”±é«˜åˆ°ä½)
            displayData.sort((a, b) => (b.activeRule?.rate || 0) - (a.activeRule?.rate || 0));

            displayData.forEach((card, index) => {
                const cardEl = document.createElement('div');
                cardEl.className = `card-shadow rounded-2xl overflow-hidden bg-white border border-gray-100 transition-all`;
                
                const rateHtml = card.activeRule 
                    ? `<div class="text-right">
                         <span class="text-3xl font-black text-red-500">${card.activeRule.rate}%</span>
                         <p class="text-[10px] text-gray-400 font-bold uppercase tracking-tighter">Rewards</p>
                       </div>`
                    : '';

                cardEl.innerHTML = `
                    <div class="${card.theme} h-2 w-full"></div>
                    <div class="p-5">
                        <div class="flex justify-between items-start mb-4">
                            <div>
                                ${index === 0 && currentCategory !== 'all' ? '<span class="best-tag text-[10px] text-white px-2 py-0.5 rounded-full font-bold mb-1 inline-block">BEST CHOICE</span>' : ''}
                                <h3 class="text-xl font-black text-gray-800 tracking-tight">${card.name}</h3>
                                <p class="text-xs font-bold text-gray-400 uppercase">${card.bank}</p>
                            </div>
                            ${rateHtml}
                        </div>
                        <div class="bg-gray-50 rounded-xl p-3 border border-dashed border-gray-200">
                            <div class="flex items-center gap-2 mb-1">
                                <span class="w-2 h-2 rounded-full bg-indigo-500"></span>
                                <span class="text-xs font-black text-gray-500 italic">ç•¶å‰æœ€å„ªé€šè·¯</span>
                            </div>
                            <p class="text-sm text-gray-700 font-medium">${card.activeRule ? card.activeRule.detail : 'ä¸€èˆ¬æ¶ˆè²»å›é¥‹'}</p>
                        </div>
                    </div>
                `;
                container.appendChild(cardEl);
            });
        }

        // åˆå§‹åŒ–
        window.onload = filterCards;
    </script>
</body>
</html>